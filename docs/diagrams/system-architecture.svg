<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="92px" preserveAspectRatio="none" style="width:333px;height:92px;background:#000000;" version="1.1" viewBox="0 0 333 92" width="333px" zoomAndPan="magnify"><defs/><g><rect fill="#1C111A" height="1" style="stroke: #1C111A; stroke-width: 1.0;" width="1" x="0" y="0"/><rect fill="#33FF02" height="21.2969" style="stroke: #33FF02; stroke-width: 1.0;" width="327" x="5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="325" x="6" y="20">[From system-architecture.puml (line 2) ]</text><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="0" x="10" y="40.2969"/><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="244" x="5" y="56.5938">@startuml system-architecture</text><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="116" x="5" y="72.8906">!theme vibrant</text><text fill="#FF0000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="106" x="10" y="89.1875">Syntax Error?</text><!--MD5=[4f237872f1d594318a5dc3ac10fbbe09]
@startuml system-architecture
!theme vibrant
skinparam backgroundColor #FAFAFA
skinparam roundcorner 15

title DDNS Updater - System Architecture Overview

package "External Systems" as external {
    cloud "Public IP\nProviders" as ipProviders {
        component "ipify.org" as ipify
        component "httpbin.org" as httpbin
        component "icanhazip.com" as icanhazip
    }
    
    cloud "DNS Providers" as dnsProviders {
        component "Domain Names" as domains
    }
    
    node "Web Server" as webserver {
        component "nginx" as nginx
        component "Apache" as apache
        component "Caddy" as caddy
        component "Traefik" as traefik
    }
}

package "DDNS Updater System" as system {
    package "Interface Layer" as interface {
        component "CLI Interface" as cli
        component "Args Parser" as args
    }
    
    package "Application Layer" as application {
        component "DDNS Application" as ddnsApp
        component "Service Factory" as factory
        component "Use Cases" as usecases {
            component "Update DDNS" as updateUC
            component "Config Validation" as validationUC
        }
        component "App Config" as appConfig
    }
    
    package "Domain Layer" as domain {
        package "Entities" as entities {
            component "IP Entry" as ipEntry
            component "WebServer Config" as wsConfig
            component "WebServer Type" as wsType
        }
        
        package "Services" as services {
            component "DDNS Update Service" as ddnsService
        }
        
        package "Ports (Interfaces)" as ports {
            interface "IP Repository" as ipRepo
            interface "WebServer Handler" as wsHandler
            interface "Network Service" as networkSvc
            interface "Notification Service" as notifSvc
            interface "Config Discovery" as configDisc
        }
    }
    
    package "Infrastructure Layer" as infrastructure {
        component "File IP Repository" as fileRepo
        component "Nginx Handler" as nginxHandler
        component "Apache Handler" as apacheHandler
        component "HTTP Network Service" as httpNetwork
        component "Console Notifications" as consoleNotif
        component "Config Discovery" as fileConfigDisc
    }
}

package "File System" as filesystem {
    folder "Configuration Files" as configs {
        file "nginx.conf" as nginxConf
        file "apache.conf" as apacheConf
        file "*.conf" as otherConf
    }
    
    folder "Storage Directory" as storage {
        file "hostname1.json" as ip1
        file "hostname2.json" as ip2
        file "backup files" as backups
    }
}

cli - -> args
cli - -> ddnsApp
ddnsApp - -> factory
ddnsApp - -> usecases
factory - -> fileRepo
factory - -> nginxHandler
factory - -> apacheHandler
factory - -> httpNetwork
factory - -> consoleNotif
factory - -> fileConfigDisc

updateUC - -> ddnsService
validationUC - -> ddnsService

ddnsService - -> ipRepo
ddnsService - -> wsHandler
ddnsService - -> networkSvc
ddnsService - -> notifSvc

fileRepo - -> ipRepo
nginxHandler - -> wsHandler
apacheHandler - -> wsHandler
httpNetwork - -> networkSvc
consoleNotif - -> notifSvc
fileConfigDisc - -> configDisc

fileRepo - -> storage
nginxHandler - -> configs
apacheHandler - -> configs
nginxHandler - -> backups
apacheHandler - -> backups

httpNetwork - -> ipProviders
ddnsService - -> domains
nginxHandler - -> nginx
apacheHandler - -> apache

@enduml

PlantUML version 1.2020.02(Sun Mar 01 11:22:07 CET 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 21.0.8+9-Ubuntu-0ubuntu124.04.1
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>